<meta charset="utf-8">
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
<style type="text/css">
.form-control { margin-bottom: 10px }
</style>

<div style="width: 400px;margin: 0 auto">
<h2>EAX - Easy AjaX</h2>

<div>
    <input type="text" class="form-control frm-nome" placeholder="Nome">
    <input type="text" class="form-control frm-idade" placeholder="Idade">
    <input type="text" class="form-control frm-pais" placeholder="PaÃ­s">
</div>

<div>
    <button class="btn btn-primary" id="post">Envia dados</button>
    <button class="btn btn-primary" id="get">Pegar dados</button>
</div>


<div>
    <div style="margin-top: 10px">Resposta:</div>
    <textarea id="area" class="form-control" style="margin-top:10px">Pega dados usando GET</textarea>   
    <div class="lblStatus"></div>
</div>
</div>

<script type="text/javascript" src="eax.js"></script>
<script type="text/javascript">
    
    var btnPost = eax.element('#post'),
    btnGet = eax.element('#get'),
    lblStatus = eax.element('.lblStatus'),
    textarea = eax.element('textarea'),
    nome = eax.element('.frm-nome'),
    idade = eax.element('.frm-idade'),
    pais = eax.element('.frm-pais');
    
    btnPost.onclick = function() {        
        eax
            .http('POST', 'post.php', {nome: nome.value, idade: idade.value, pais: pais.value})
            .success(function(data) {
                lblStatus.innerHTML = "Sucesso ao enviar!";
            })
            .error(function(data) {
                lblStatus.innerHTML = "Erro ao enviar!";
            });
            console.log('send');
    };

    btnGet.onclick = function() {    
        eax
            .http('GET', 'data.txt')        
            .success(function(data) {
                lblStatus.innerHTML = "Sucesso ao pegar dados!";
                textarea.innerHTML = data;
            })
            .error(function(data) {
                lblStatus.innerHTML = "Erro ao pegar dados!";
            });
            console.log('get');

    };

     
        
    
        
</script>
